#parse("/velocity/user/navigation.vm")

<link rel="stylesheet" href="/static/css/business/service/detail.css"></link>

<script type="text/javascript">
	layoutApp.value("serviceOrderId", ${orderId});
</script>
<div class="detail ng-hide" ng-show="serviceOrder">
	<div class="title">
		<span>#label("SERVICE_ORDER_DETAIL")</span>
	</div>
	<div class="level1">
		<span>#label("SERVICE_ORDER_PREVIEW")</span>
	</div>
	<div class="level2">
		<span class="key">#label("ORDER_ID"):</span> <span class="value">{{serviceOrder.id}}</span>
	</div>
	<div class="level2">
		<span class="key">#label("STATUS"): </span> <span class="value">{{serviceOrder.status.message}}</span>
	</div>
	<div class="level2">
		<span class="key">#label("SERVICE_CATEGORY"): </span> <span class="value">{{serviceOrder.serviceInfo.name}}</span>
	</div>
	<div class="level2">
		<span class="key">#label("SERVICE_SUPPLIER_CLIENT_NAME"): </span> <span class="value">{{serviceOrder.serviceInfo.serviceSupplierClient.name}}</span>
	</div>
	<div class="level2">
		<span class="key">#label("SERVICE_ADDRESS"): </span> <span class="value">{{serviceOrder.address}}</span>
	</div>
	<div class="level2">
		<span class="key">#label("SERVICE_TIME"): </span> <span class="value">{{serviceOrder.serviceDate|date:'yyyy/MM/dd'}}</span> <span>{{serviceOrder.serviceHour}}:00</span>
	</div>
	<div class="level2">
		<span class="key">#label("PAYMENT_METHOD"): </span> <span class="value">{{serviceOrder.paymentMethod.message}}</span>
	</div>
	<div class="level1">
		<span>#label("SERVICE_ORDER_TRACING")</span>
	</div>
	<div class="level2">
		<table>
			<thead>
				<tr>
					<td><span>#label("OPERATION_TIME")</span></td>
					<td><span>#label("SERVICE_ORDER_OPERATION")</span></td>
					<td><span>#label("OPERATOR")</span></td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="operation in serviceOrder.operations">
					<td>{{operation.timestamp|date:'yyyy/MM/dd HH:mm:ss'}}</td>
					<td>{{operation.operation.message}}</td>
					<td>{{operation.operator}}</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="level1">
		<span>#label("SERVICE_ORDER_LIST")</span>
	</div>
	<div class="level2">
		<table>
			<thead>
				<tr>
					<td><span>#label("SERVICE_CATEGORY")</span></td>
					<td><span>#label("PRICE")</span></td>
					<td><span>#label("DISCOUNT")</span></td>
					<td><span>#label("PAYMENT_AMOUNT")</span></td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{serviceOrder.serviceInfo.name}}</td>
					<td>{{serviceOrder.price|currency:"￥"}}</td>
					<td>{{0|currency:"￥"}}</td>
					<td>{{serviceOrder.price|currency:"￥"}}</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div class="submit">
		<button ng-click="edit()">#button("EDIT")</button>
		<button ng-if="serviceOrder.status.code=='I'" ng-click="pay()">#button("ONLINE_PAY")</button>
		<button ng-click="orderMore()">#button("ORDER_MORE")</button>
	</div>
</div>

<script src="/static/js/business/service/detail.js"></script>