#parse("/velocity/user/navigation.vm")

<link rel="stylesheet" href="/static/css/business/user/order.css"></link>

<div class="order">
	<div class="result ng-hide" ng-show="orders">
		<table class="data">
			<thead>
				<tr>
					<td align="center"><span>#label("SERVICE_CATEGORIES")</span></td>
					<td align="center"><div>
							<span>#label("SERVICE_ORDER_SUMMARY")</span>
						</div>
						<div>
							<select ng-model="filter.selectedPaymentMethod">
								<option value="">#label("ALL")</option>
								<option ng-repeat="paymentMethod in paymentMethods" value="{{paymentMethod.code}}">{{paymentMethod.message}}</option>
							</select>
						</div></td>
					<td align="center"><div>
							<span>#label("SERVICE_ORDER_STATUS")</span>
						</div>
						<div>
							<select ng-model="filter.selectedStatus">
								<option value="">#label("ALL")</option>
								<option ng-repeat="status in statuses" value="{{status.code}}">{{status.message}}</option>
							</select>
						</div></td>
					<td align="center"><span>#label("OPERATION")</span></td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="order in orders">
					<td><div class="orderItem">
							<div class="orderPic">
								<img alt="#label('NOT_UPLOADED')" ng-src="/ajax/content/image/{{order.serviceInfo.image}}" />
							</div>
							<div class="orderInfo">
								<div>
									<span class="key">#label("ORDER_ID"):</span> <a href="/user/order/{{order.id}}"><span class="value">{{order.id}}</span></a>
								</div>
								<div>
									<span class="key">#label("SERVICE_CATEGORY"):</span> <span>{{order.serviceInfo.serviceCategory.name}} </span>
								</div>
								<div class="orderCompany">
									<a ng-href="/service/info/{{order.serviceInfo.serviceSupplierClient.id}}"><span class="key">{{order.serviceInfo.serviceSupplierClient.name}}</span></a>
								</div>
							</div>
						</div></td>
					<td align="center"><div>
							<span>{{order.price}}</span>
						</div>
						<div>
							<span>{{order.paymentMethod.message}}</span>
						</div></td>
					<td align="center"><span>{{order.status.message}}</span></td>
					<td align="center"><button class="ng-hide" ng-show="order.status.code=='P'" ng-click="appraise(order.id)">#button("ORDER_APPRAISE")</button></td>
				</tr>
			</tbody>

		</table>
		<div class="orderPaging">
			<pagination total-items="orderPaging.itemCount" ng-model="orderPaging.pageIndex" max-size="10" items-per-page="orderPaging.pageSize"
				class="pagination-sm" boundary-links="true" ng-change="populateOrders()" first-text='#label("FIRST_PAGE")'
				last-text='#label("LAST_PAGE")' previous-text='#label("PREVIOUS_PAGE")' next-text='#label("NEXT_PAGE")'></pagination>
		</div>
	</div>
</div>

<script src="/static/js/business/user/order.js"></script>